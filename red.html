<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üî¥ –ö—Ä–∞—Å–Ω–∞—è –°—Ç—Ä—É–Ω–∞ –ó–¥–æ—Ä–æ–≤—å—è</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600&family=Dancing+Script:wght@400;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Cinzel', serif;
            background: linear-gradient(135deg, #ff6b6b, #4ecdc4, #45b7d1, #96ceb4, #feca57, #ff9ff3, #54a0ff);
            background-size: 400% 400%;
            animation: gradientShift 8s ease infinite;
            min-height: 100vh;
            color: #f4f1e8;
            overflow-x: hidden;
            position: relative;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 80%, rgba(255, 107, 107, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(78, 205, 196, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(255, 193, 7, 0.1) 0%, transparent 50%);
            animation: float 20s ease-in-out infinite;
            pointer-events: none;
            z-index: 0;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 10;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            animation: fadeInDown 2s ease-out;
        }

        .header h1 {
            font-family: 'Dancing Script', cursive;
            font-size: 3rem;
            margin-bottom: 20px;
            text-shadow: 3px 3px 6px rgba(0,0,0,0.3);
            background: linear-gradient(45deg, #ff6b6b, #4caf50, #ffeb3b, #ff6b6b);
            background-size: 400% 400%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: textShimmer 4s ease-in-out infinite;
        }

        .intro-text {
            background: rgba(255,255,255,0.1);
            padding: 30px;
            border-radius: 20px;
            margin-bottom: 30px;
            backdrop-filter: blur(15px);
            border: 2px solid rgba(255, 107, 107, 0.3);
            line-height: 1.8;
            box-shadow: 0 8px 32px rgba(0,0,0,0.2);
        }

        .quest-container {
            display: none;
        }

        .quest-container.active {
            display: block;
            animation: slideInUp 1s ease-out;
        }

        .question-card {
            background: rgba(255,255,255,0.15);
            border-radius: 25px;
            padding: 40px;
            margin-bottom: 30px;
            backdrop-filter: blur(20px);
            border: 2px solid rgba(76, 175, 80, 0.3);
            box-shadow: 0 12px 40px rgba(0,0,0,0.2);
        }

        .question-title {
            font-size: 1.6rem;
            margin-bottom: 30px;
            font-weight: 600;
            text-align: center;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .color-palette {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 25px;
            margin: 40px 0;
        }

        .color-option {
            height: 120px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.4s ease;
            border: 3px solid transparent;
            position: relative;
        }

        .color-option:hover {
            transform: translateY(-8px) scale(1.05);
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
            border-color: rgba(255, 215, 0, 0.8);
        }

        .color-option.selected {
            border-color: #ffd700;
            transform: translateY(-12px) scale(1.1);
            box-shadow: 0 0 40px rgba(255, 215, 0, 0.8);
            animation: selectedGlow 2s ease-in-out infinite;
        }

        .color-option.selected::after {
            content: 'üåü';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 2.5rem;
            animation: starTwinkle 1s ease-in-out infinite;
        }

        .part4 { 
            background: linear-gradient(135deg, #ffcccb, #ffa0a0, #ff69b4);
            box-shadow: inset 0 0 20px rgba(255, 105, 180, 0.3);
        }
        .part3 { 
            background: linear-gradient(135deg, #ff8a80, #ff5722, #e64a19);
            box-shadow: inset 0 0 20px rgba(255, 87, 34, 0.3);
        }
        .part2 { 
            background: linear-gradient(135deg, #f44336, #d32f2f, #b71c1c);
            box-shadow: inset 0 0 20px rgba(244, 67, 54, 0.3);
        }
        .part1 { 
            background: linear-gradient(135deg, #c62828, #b71c1c, #8d1e1e);
            box-shadow: inset 0 0 20px rgba(183, 28, 28, 0.3);
        }
        .matrix { 
            background: linear-gradient(135deg, #8d6e63, #6d4c41, #5d4037, #3e2723);
            box-shadow: inset 0 0 20px rgba(93, 64, 55, 0.3);
        }

        .options-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .option-btn {
            background: rgba(255,255,255,0.1);
            border: 2px solid rgba(76, 175, 80, 0.4);
            color: #f4f1e8;
            padding: 25px;
            border-radius: 18px;
            cursor: pointer;
            transition: all 0.4s ease;
            font-size: 1.1rem;
            text-align: left;
            position: relative;
            backdrop-filter: blur(10px);
        }

        .option-btn:hover {
            background: rgba(76, 175, 80, 0.2);
            transform: translateY(-5px);
            box-shadow: 0 12px 30px rgba(76, 175, 80, 0.3);
            border-color: rgba(255, 215, 0, 0.6);
        }

        .option-btn.selected {
            background: linear-gradient(135deg, rgba(255, 107, 107, 0.4), rgba(76, 175, 80, 0.4));
            border-color: #ffd700;
            transform: scale(1.03);
            box-shadow: 0 12px 30px rgba(255, 215, 0, 0.4);
        }

        .start-btn, .next-btn {
            background: linear-gradient(45deg, #ff6b6b, #ff8a80, #ff6b6b);
            background-size: 400% 400%;
            border: none;
            color: white;
            padding: 20px 50px;
            border-radius: 30px;
            font-size: 1.3rem;
            font-family: 'Cinzel', serif;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.4s ease;
            display: block;
            margin: 40px auto;
            box-shadow: 0 8px 25px rgba(255, 107, 107, 0.4);
            animation: buttonPulse 3s ease-in-out infinite;
        }

        .start-btn {
            font-size: 1.5rem;
            padding: 25px 60px;
        }

        .start-btn:hover, .next-btn:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 15px 35px rgba(255, 107, 107, 0.6);
        }

        .progress-bar {
            width: 100%;
            height: 12px;
            background: rgba(255,255,255,0.2);
            border-radius: 6px;
            margin-bottom: 30px;
            overflow: hidden;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.2);
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #ff6b6b, #4caf50, #ffeb3b);
            transition: width 1s ease;
            border-radius: 6px;
        }

        .results {
            display: none;
            text-align: center;
            animation: fadeIn 1.5s ease-out;
        }

        .results.show {
            display: block;
        }

        .result-card {
            background: rgba(255,255,255,0.15);
            border-radius: 25px;
            padding: 50px;
            margin: 30px 0;
            backdrop-filter: blur(20px);
            border: 2px solid rgba(255, 215, 0, 0.5);
            box-shadow: 0 15px 50px rgba(0,0,0,0.2);
        }

        .book-recommendation {
            background: linear-gradient(135deg, rgba(255, 107, 107, 0.2), rgba(76, 175, 80, 0.2));
            padding: 35px;
            border-radius: 20px;
            margin: 30px 0;
            border: 2px solid rgba(255, 215, 0, 0.4);
        }

        .answers-list {
            text-align: left;
            margin: 30px 0;
            line-height: 2;
            background: rgba(255,255,255,0.1);
            padding: 30px;
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }

        .question-counter {
            text-align: center;
            font-size: 1.3rem;
            margin-bottom: 25px;
            font-weight: 600;
            color: #ffeb3b;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }

        /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
        @keyframes gradientShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }

        @keyframes textShimmer {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        @keyframes fadeInDown {
            from { opacity: 0; transform: translateY(-50px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes slideInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes selectedGlow {
            0%, 100% { box-shadow: 0 0 40px rgba(255, 215, 0, 0.8); }
            50% { box-shadow: 0 0 60px rgba(255, 215, 0, 1); }
        }

        @keyframes starTwinkle {
            0%, 100% { transform: translate(-50%, -50%) scale(1); }
            50% { transform: translate(-50%, -50%) scale(1.2); }
        }

        @keyframes buttonPulse {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (max-width: 768px) {
            .header h1 { font-size: 2.2rem; }
            .color-palette { grid-template-columns: repeat(2, 1fr); gap: 15px; }
            .options-grid { grid-template-columns: 1fr; }
            .container { padding: 15px; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header" id="header">
            <h1>üî¥ –ö–†–ê–°–ù–ê–Ø –°–¢–†–£–ù–ê –ó–î–û–†–û–í–¨–Ø üî¥</h1>
            <div class="intro-text">
                <p><strong>üå∏ –ñ–µ–Ω—â–∏–Ω—ã –≤—Å–µ–≥–¥–∞ –≤—Å—ë —Å–Ω–∞—á–∞–ª–∞ –æ–±–¥—É–º—ã–≤–∞—é—Ç, —á—É–≤—Å—Ç–≤—É—é—Ç, –∞ —Ç–æ–ª—å–∫–æ –∑–∞—Ç–µ–º –ø—Ä–æ–∂–∏–≤–∞—é—Ç. –ê –º—É–∂—á–∏–Ω–∞, –Ω–∞–æ–±–æ—Ä–æ—Ç, —Å–Ω–∞—á–∞–ª–∞ –Ω–∞–±–µ–≥–∞–µ—Ç—Å—è, –∞ –ø–æ—Ç–æ–º –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –∏ –Ω–∞—á–∏–Ω–∞–µ—Ç –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –Ω–∞—à–∏–º –ø–æ–≤–µ–¥–µ–Ω–∏–µ–º —É–ø—Ä–∞–≤–ª—è—é—Ç —Ü–≤–µ—Ç–æ–≤—ã–µ —Å—Ç—Ä—É–Ω—ã. üå∏</strong></p>
                <br>
                <p>üåø –°—Ç—Ä—É–Ω—ã –º–æ–≥—É—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ —Ä–∞–∑–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏ ‚Äì —É –∫–æ–≥–æ-—Ç–æ –æ–Ω–∏ –Ω–∞—Ç—è–Ω—É—Ç—ã, —É –∫–æ–≥–æ-—Ç–æ –ø–æ—Ä–≤–∞–Ω—ã, —É –∫–æ–≥–æ-—Ç–æ –¥–ª–∏–Ω–Ω—ã–µ, —É –∫–æ–≥–æ-—Ç–æ –∫–æ—Ä–æ—Ç–∫–∏–µ. –ï—Å–ª–∏ –≤—Å–µ —Å—Ç—Ä—É–Ω—ã –≤ —á–µ–ª–æ–≤–µ–∫–µ –∑–≤—É—á–∞—Ç –∏–¥–µ–∞–ª—å–Ω–æ, —Ç–æ —á–µ–ª–æ–≤–µ–∫–∞ –º–æ–∂–Ω–æ –Ω–∞–∑–≤–∞—Ç—å –∑–¥–æ—Ä–æ–≤—ã–º. üåø</p>
                <br>
                <p><strong>üå∫ –ü–µ—Ä–≤–∞—è —Å—Ç—Ä—É–Ω–∞ (–∫—Ä–∞—Å–Ω–∞—è) –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –∫–æ—Å—Ç–Ω—É—é —Å–∏—Å—Ç–µ–º—É, –∑–∞ –≤–∞—à —Å–∫–µ–ª–µ—Ç, —Å—é–¥–∞ –∂–µ –æ—Ç–Ω–æ—Å—è—Ç—Å—è –æ—Ä–≥–∞–Ω—ã –ø–ª–æ—Ç–Ω–æ–≥–æ –≤—ã–¥–µ–ª–µ–Ω–∏—è, –∏ –µ—Å–ª–∏ —Ç–∞–º –∫–∞–∫–∏–µ-—Ç–æ –∞–Ω–æ–º–∞–ª–∏–∏, —Ç–æ –≤—ã –ø—Ä–æ–≤–æ–¥–∏—Ç–µ —ç—Ç—É —Å—Ç—Ä—É–Ω—É. üå∫</strong></p>
                <br>
                <p><strong>üî• –ö—Ä–∞—Å–Ω—ã–π ‚Äì —ç—Ç–æ —Ü–≤–µ—Ç –∑–¥–æ—Ä–æ–≤—å—è. –ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –∏–º–µ—Ç—å –∫—Ä–∞—Å–∏–≤–æ–µ —Ç–µ–ª–æ, –∫—Ä–µ–ø–∫–æ–µ –∑–¥–æ—Ä–æ–≤—å–µ, –∫—Ä–∞—Å–Ω–∞—è —Å—Ç—Ä—É–Ω–∞ –≤–∞–º –ø—Ä–æ—Å—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞! –ê –µ—â—ë –∫—Ä–∞—Å–Ω—ã–π —Ü–≤–µ—Ç –¥–∞—Ä–∏—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ä–∞–¥–æ—Å—Ç–∏ –∏ –Ω–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ—Å—Ç–∏ –∂–∏–∑–Ω–∏. üî•</strong></p>
            </div>
            <button class="start-btn" id="startBtn">üî¥ –°–¢–ê–†–¢ üî¥</button>
        </div>

        <div class="quest-container" id="questContainer">
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="question-counter" id="questionCounter"></div>
            <div id="questionContent"></div>
        </div>

        <div class="results" id="results">
            <div class="result-card">
                <h2>üå∫ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ üå∫</h2>
                <div id="intersectionsText"></div>
                <div class="book-recommendation" id="bookRecommendation"></div>
            </div>
        </div>
    </div>

    <script>
        let currentQuestion = 0;
        let answers = {};
        let intersections = 0;

        const questions = [
            {
                id: 'color',
                title: 'üåà –í—ã–±–µ—Ä–∏—Ç–µ —Ü–≤–µ—Ç —Å—Ç—Ä—É–Ω—ã, –∫–æ—Ç–æ—Ä—ã–π —Ä–µ–∑–æ–Ω–∏—Ä—É–µ—Ç —Å –≤–∞—à–µ–π –¥—É—à–æ–π:',
                type: 'color',
                colors: [
                    { class: 'part4', value: 'part4' },
                    { class: 'part3', value: 'part3' },
                    { class: 'part2', value: 'part2' },
                    { class: 'part1', value: 'part1' },
                    { class: 'matrix', value: 'matrix' }
                ]
            },
            {
                id: 'month',
                title: 'üçÇ –í –∫–∞–∫–æ–º –º–µ—Å—è—Ü–µ –≤—ã —Ä–æ–¥–∏–ª–∏—Å—å?',
                type: 'options',
                options: [
                    { text: 'üçÅ –ù–æ—è–±—Ä—å', value: 'november', intersects: true },
                    { text: 'üå∏ –î—Ä—É–≥–æ–π –º–µ—Å—è—Ü', value: 'other', intersects: false }
                ]
            },
            {
                id: 'weekday',
                title: '‚òÄÔ∏è –ö–∞–∫–æ–π –¥–µ–Ω—å –Ω–µ–¥–µ–ª–∏ –¥–ª—è –≤–∞—Å –æ—Å–æ–±–µ–Ω–Ω–æ –≤–∞–∂–µ–Ω?',
                type: 'options',
                options: [
                    { text: 'üåû –í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ', value: 'sunday', intersects: true },
                    { text: 'üåô –î—Ä—É–≥–æ–π –¥–µ–Ω—å', value: 'other', intersects: false }
                ]
            },
            {
                id: 'names',
                title: 'üåø –ï—Å—Ç—å –ª–∏ –≤ –≤–∞—à–µ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏ –ª—é–¥–∏ —Å –∏–º–µ–Ω–∞–º–∏ –ï–ª–µ–Ω–∞ –∏–ª–∏ –î–º–∏—Ç—Ä–∏–π?',
                type: 'options',
                options: [
                    { text: '‚ú® –î–∞, –µ—Å—Ç—å', value: 'yes', intersects: true },
                    { text: 'üçÉ –ù–µ—Ç', value: 'no', intersects: false }
                ]
            },
            {
                id: 'support',
                title: 'üå≥ –ù–∞ –∫–æ–≥–æ –≤—ã –±–æ–ª—å—à–µ –æ–ø–∏—Ä–∞–µ—Ç–µ—Å—å –≤ –∂–∏–∑–Ω–∏?',
                type: 'options',
                options: [
                    { text: 'üå≤ –ù–∞ –º–∞–º—É –∏ –ø–∞–ø—É (–Ω–∞ –æ–±–æ–∏—Ö)', value: 'both', intersects: true },
                    { text: 'üå∏ –¢–æ–ª—å–∫–æ –Ω–∞ –º–∞–º—É', value: 'mother', intersects: false },
                    { text: 'üå∞ –¢–æ–ª—å–∫–æ –Ω–∞ –ø–∞–ø—É', value: 'father', intersects: false },
                    { text: 'üå± –¢–æ–ª—å–∫–æ –Ω–∞ —Å–µ–±—è', value: 'self', intersects: false }
                ]
            },
            {
                id: 'trajectory',
                title: 'ü¶ã –ö–∞–∫–∞—è —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏—è –æ–±—â–µ–Ω–∏—è –≤–∞–º –±–ª–∏–∂–µ?',
                type: 'options',
                options: [
                    { text: 'üßò‚Äç‚ôÄÔ∏è –õ–∏—á–Ω–∞—è - –ª—é–±–ª—é –ø–æ–±—ã—Ç—å –æ–¥–∏–Ω, –ø–æ—Ä–∞–∑–º—ã—à–ª—è—Ç—å', value: 'personal', intersects: true },
                    { text: 'üè° –° –±–ª–∏–∑–∫–∏–º–∏ - –æ–±—â–µ–Ω–∏–µ —Å —Å–µ–º—å–µ–π, –¥—Ä—É–∑—å—è–º–∏', value: 'close', intersects: false },
                    { text: 'ü§ù –ö–æ–ª–ª–µ–∫—Ç–∏–≤–Ω–∞—è - —Ä–∞–±–æ—Ç–∞ –≤ –∫–æ–º–∞–Ω–¥–µ', value: 'team', intersects: false },
                    { text: 'üåç –û–±—â–µ—Å—Ç–≤–µ–Ω–Ω–∞—è - —Å—Ä–µ–¥–∏ –±–æ–ª—å—à–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ª—é–¥–µ–π', value: 'public', intersects: false }
                ]
            },
            {
                id: 'earth',
                title: 'üåç –ß—É–≤—Å—Ç–≤—É–µ—Ç–µ –ª–∏ –≤—ã —Å–≤—è–∑—å —Å –∑–µ–º–ª–µ–π, –ø—Ä–∏—Ä–æ–¥–æ–π?',
                type: 'options',
                options: [
                    { text: 'üåø –î–∞, –æ—á–µ–Ω—å —Å–∏–ª—å–Ω—É—é —Å–≤—è–∑—å', value: 'strong', intersects: true },
                    { text: 'üçÄ –ò–Ω–æ–≥–¥–∞ —á—É–≤—Å—Ç–≤—É—é', value: 'sometimes', intersects: false },
                    { text: 'üåæ –†–µ–¥–∫–æ', value: 'rare', intersects: false },
                    { text: 'üèôÔ∏è –ù–µ —á—É–≤—Å—Ç–≤—É—é', value: 'no', intersects: false }
                ]
            },
            {
                id: 'work',
                title: 'üåª –í–∞—à–∞ —Ä–∞–±–æ—Ç–∞ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∞ –Ω–∞:',
                type: 'options',
                options: [
                    { text: 'ü§≤ –ü–æ–º–æ—â—å –¥—Ä—É–≥–∏–º –ª—é–¥—è–º, —Ä–∞–±–æ—Ç—É –¥–ª—è –∫–æ–≥–æ-—Ç–æ', value: 'others', intersects: true },
                    { text: 'üèÜ –õ–∏—á–Ω—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è', value: 'personal', intersects: false },
                    { text: 'üé® –¢–≤–æ—Ä—á–µ—Å–∫—É—é —Å–∞–º–æ—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é', value: 'creative', intersects: false },
                    { text: 'üí∞ –ú–∞—Ç–µ—Ä–∏–∞–ª—å–Ω—É—é –≤—ã–≥–æ–¥—É', value: 'profit', intersects: false }
                ]
            },
            {
                id: 'health',
                title: 'üí™ –ö–∞–∫ –≤—ã –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç–µ —Å–≤–æ–µ –∑–¥–æ—Ä–æ–≤—å–µ?',
                type: 'options',
                options: [
                    { text: 'üåä –ö—Ä–µ–ø–∫–æ–µ –∑–¥–æ—Ä–æ–≤—å–µ, –ø–æ–ª–æ–Ω —Å–∏–ª –∏ —ç–Ω–µ—Ä–≥–∏–∏', value: 'strong', intersects: true },
                    { text: 'üèûÔ∏è –•–æ—Ä–æ—à–µ–µ, –Ω–æ –∏–Ω–æ–≥–¥–∞ –±—ã–≤–∞–µ—Ç —É—Å—Ç–∞–ª–æ—Å—Ç—å', value: 'good', intersects: false },
                    { text: 'üåßÔ∏è –°—Ä–µ–¥–Ω–µ–µ, –µ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã', value: 'average', intersects: false },
                    { text: 'üèúÔ∏è –°–ª–∞–±–æ–µ, —á–∞—Å—Ç–æ –±–æ–ª–µ—é', value: 'weak', intersects: false }
                ]
            },
            {
                id: 'movement',
                title: 'üå™Ô∏è –í–∞—à–µ –æ—Ç–Ω–æ—à–µ–Ω–∏–µ –∫ –¥–≤–∏–∂–µ–Ω–∏—é:',
                type: 'options',
                options: [
                    { text: 'üíÉ –î–≤–∏–∂–µ–Ω–∏–µ - —ç—Ç–æ –∂–∏–∑–Ω—å! –õ—é–±–ª—é –±—ã—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–º', value: 'active', intersects: true },
                    { text: 'üö∂‚Äç‚ôÄÔ∏è –£–º–µ—Ä–µ–Ω–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å', value: 'moderate', intersects: false },
                    { text: 'üßò‚Äç‚ôÇÔ∏è –ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞—é —Å–ø–æ–∫–æ–π–Ω—ã–π –æ–±—Ä–∞–∑ –∂–∏–∑–Ω–∏', value: 'calm', intersects: false },
                    { text: 'üõãÔ∏è –ú–∞–ª–æ–ø–æ–¥–≤–∏–∂–Ω—ã–π –æ–±—Ä–∞–∑ –∂–∏–∑–Ω–∏', value: 'sedentary', intersects: false }
                ]
            }
        ];

        function init() {
            const startBtn = document.getElementById('startBtn');
            startBtn.addEventListener('click', startQuest);
        }

        function startQuest() {
            document.getElementById('header').style.display = 'none';
            document.getElementById('questContainer').classList.add('active');
            showQuestion();
        }

        function showQuestion() {
            const question = questions[currentQuestion];
            const questionContent = document.getElementById('questionContent');
            const progressFill = document.getElementById('progressFill');
            const questionCounter = document.getElementById('questionCounter');
            
            progressFill.style.width = ((currentQuestion + 1) / questions.length * 100) + '%';
            questionCounter.innerHTML = `üåü –ù–∞—Å—Ç—Ä–æ–π–∫–∞ ${currentQuestion + 1} –∏–∑ ${questions.length} üåü`;
            
            let html = `<div class="question-card">
                <div class="question-title">${question.title}</div>`;
            
            if (question.type === 'color') {
                html += '<div class="color-palette">';
                question.colors.forEach(color => {
                    html += `<div class="color-option ${color.class}" onclick="selectColor('${color.value}')" data-value="${color.value}"></div>`;
                });
                html += '</div>';
            } else {
                html += '<div class="options-grid">';
                question.options.forEach(option => {
                    html += `<button class="option-btn" onclick="selectOption('${option.value}', ${option.intersects})" data-value="${option.value}">
                        ${option.text}
                    </button>`;
                });
                html += '</div>';
            }
            
            html += `<button class="next-btn" onclick="nextQuestion()" id="nextBtn" style="display: none;">üå∏ –î–∞–ª–µ–µ üå∏</button>
                </div>`;
            
            questionContent.innerHTML = html;
        }

        function selectColor(value) {
            answers[questions[currentQuestion].id] = value;
            
            document.querySelectorAll('.color-option').forEach(el => {
                el.classList.remove('selected');
            });
            document.querySelector(`[data-value="${value}"]`).classList.add('selected');
            
            document.getElementById('nextBtn').style.display = 'block';
        }

        function selectOption(value, intersects) {
            answers[questions[currentQuestion].id] = value;
            
            if (intersects) {
                intersections++;
            }
            
            document.querySelectorAll('.option-btn').forEach(el => {
                el.classList.remove('selected');
            });
            document.querySelector(`[data-value="${value}"]`).classList.add('selected');
            
            document.getElementById('nextBtn').style.display = 'block';
        }

        function nextQuestion() {
            currentQuestion++;
            
            if (currentQuestion < questions.length) {
                showQuestion();
            } else {
                showResults();
            }
        }

        function showResults() {
            document.getElementById('questContainer').style.display = 'none';
            document.getElementById('results').classList.add('show');
            
            const intersectionsText = document.getElementById('intersectionsText');
            const bookRecommendation = document.getElementById('bookRecommendation');
            
            let resultsHTML = '<div class="answers-list"><h3>üå∫ –í–∞—à–∏ –û—Ç–≤–µ—Ç—ã üå∫</h3><br>';
            
            questions.forEach((question, index) => {
                const answer = answers[question.id];
                let answerText = '';
                
                if (question.type === 'color') {
                    switch(answer) {
                        case 'part4':
                            answerText = 'üå∏ –°–≤–µ—Ç–ª–æ-—Ä–æ–∑–æ–≤—ã–π —Ü–≤–µ—Ç';
                            break;
                        case 'part3':
                            answerText = 'üå∫ –†–æ–∑–æ–≤–æ-–∫—Ä–∞—Å–Ω—ã–π —Ü–≤–µ—Ç';
                            break;
                        case 'part2':
                            answerText = 'üî• –ö—Ä–∞—Å–Ω—ã–π —Ü–≤–µ—Ç';
                            break;
                        case 'part1':
                            answerText = 'üçÇ –¢–µ–º–Ω–æ-–∫—Ä–∞—Å–Ω—ã–π —Ü–≤–µ—Ç';
                            break;
                        case 'matrix':
                            answerText = 'üå∞ –ö–æ—Ä–∏—á–Ω–µ–≤—ã–π —Ü–≤–µ—Ç';
                            break;
                    }
                } else {
                    const selectedOption = question.options.find(opt => opt.value === answer);
                    answerText = selectedOption ? selectedOption.text : answer;
                }
                
                resultsHTML += `<strong>üåø ${question.title}</strong><br>`;
                resultsHTML += `üéµ ${answerText}<br><br>`;
            });
            
            resultsHTML += '</div>';
            intersectionsText.innerHTML = resultsHTML;
            
            const colorChoice = answers.color;
            let bookTitle = '';
            
            switch(colorChoice) {
                case 'part4':
                    bookTitle = '–û—Ç–∫—Ä–æ–≤–µ–Ω–Ω–æ–µ –ó–Ω–∞–∫–æ–º—Å—Ç–≤–æ - –ß–∞—Å—Ç—å 4';
                    break;
                case 'part3':
                    bookTitle = '–û—Ç–∫—Ä–æ–≤–µ–Ω–Ω–æ–µ –ó–Ω–∞–∫–æ–º—Å—Ç–≤–æ - –ß–∞—Å—Ç—å 3';
                    break;
                case 'part2':
                    bookTitle = '–û—Ç–∫—Ä–æ–≤–µ–Ω–Ω–æ–µ –ó–Ω–∞–∫–æ–º—Å—Ç–≤–æ - –ß–∞—Å—Ç—å 2';
                    break;
                case 'part1':
                    bookTitle = '–û—Ç–∫—Ä–æ–≤–µ–Ω–Ω–æ–µ –ó–Ω–∞–∫–æ–º—Å—Ç–≤–æ - –ß–∞—Å—Ç—å 1';
                    break;
                case 'matrix':
                    bookTitle = '–ú–∞—Ç—Ä–∏—Ü–∞ –ó–¥–æ—Ä–æ–≤—å—è';
                    break;
            }
            
            bookRecommendation.innerHTML = `
                <h3>üìö –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –∫–Ω–∏–≥–∞:</h3>
                <h4>üåø ${bookTitle} üåø</h4>
                <br>
                <div style="background: rgba(255,215,0,0.2); padding: 20px; border-radius: 15px; border: 2px solid rgba(255,215,0,0.5);">
                    <p><strong>üå∏ –ü–µ—Ä–µ—Å–µ—á–µ–Ω–∏–π —Å –∫—Ä–∞—Å–Ω–æ–π —Å—Ç—Ä—É–Ω–æ–π: ${intersections} –∏–∑ 9</strong></p>
                </div>
                <br>
                <div style="background: rgba(255,255,255,0.1); padding: 25px; border-radius: 15px; border: 2px solid rgba(255,107,107,0.4); line-height: 1.8; text-align: left;">
                    <p>–ü–æ—Å–º–æ—Ç—Ä–∏, –∫–∞–∫–æ–π –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π –º–∞–ª—å—á–∏–∫, —á—Ç–æ –∂–µ –æ–Ω —Ç–∞–º –¥–µ–ª–∞–µ—Ç? –û–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è, –æ–Ω –±–µ—Ä—ë—Ç –±–æ–ª—å—à–∏–µ —â–∏–ø—Ü—ã, —É–∫–ª–∞–¥—ã–≤–∞–µ—Ç —Ä–∞—Å–∫–∞–ª—ë–Ω–Ω–æ–µ –∂–µ–ª–µ–∑–æ –∏ –Ω–∞—á–∏–Ω–∞–µ—Ç –±–∏—Ç—å –ø–æ –Ω–µ–º—É –±–æ–ª—å—à–∏–º –º–æ–ª–æ—Ç–∫–æ–º. –ü–æ—Ç–æ–º –ø–æ–ª—É—á–∞—é—Ç—Å—è –∂–µ–ª–µ–∑–Ω—ã–µ –¥–µ—Ç–∞–ª–∏. –≠—Ç–æ—Ç –º–∞–ª—å—á–∏–∫ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è ¬´–∫—É–∑–Ω–µ—Ü¬ª. –ò –æ–Ω –±—É–¥–µ—Ç –∫–æ–≤–∞—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ü–µ–ø–∏. –ù–∞–¥–æ –µ–º—É –æ–±—ä—è—Å–Ω–∏—Ç—å, —á—Ç–æ –Ω–µ–ª—å–∑—è —Å–∞–º–æ–≥–æ —Å–µ–±—è –ø—Ä–∏–≤—è–∑—ã–≤–∞—Ç—å, –∏–Ω–∞—á–µ —Ç—ã –ø–æ–ø–∞–¥—ë—à—å –≤ —Ü–∏–∫–ª, –∞ –Ω—É–∂–Ω–æ –¥–æ—Ö–æ–¥–∏—Ç—å –¥–æ –†–∏—Ç–º–∞. –ê —Å–µ–π—á–∞—Å –æ–Ω –∏ —Ç–∞–∫ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Å–∞–º–æ–º –∂—ë—Å—Ç–∫–æ–º —Ü–∏–∫–ª–µ, –≤ —Å–∞–º–æ–º –ø–ª–æ—Ç–Ω–æ–º —Ü–∏–∫–ª–µ.</p>
                    <br>
                    <p>–û–±—ä—è—Å–Ω–∏–ª–∏, –∏ –º–∞–ª—å—á–∏–∫ –Ω–∞—á–∏–Ω–∞–µ—Ç –∫–æ–≤–∞—Ç—å —Å–µ–±–µ –ø–æ–¥–∫–æ–≤—ã. –ü–æ–¥–∫–æ–≤—ã ‚Äî —ç—Ç–æ —Ä–∞–∑–æ–º–∫–Ω—É—Ç–æ–µ –∫–æ–ª—å—Ü–æ, –ø–æ—ç—Ç–æ–º—É —É –º–Ω–æ–≥–∏—Ö –Ω–∞ –¥–æ–º–∏–∫–∞—Ö –Ω–∞ —Å—á–∞—Å—Ç—å–µ –≤–∏—Å—è—Ç –ø–æ–¥–∫–æ–≤—ã. –ê —á—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å —Å—á–∞—Å—Ç–ª–∏–≤–µ–µ —Ä–∞–∑–æ–º–∫–Ω—É—Ç–æ–≥–æ —Ü–∏–∫–ª–∞?</p>
                    <br>
                    <p>–ù–∞ —ç—Ç–æ–π —É–ª–∏—Ü–µ –º–æ–∂–Ω–æ —Ä–∞–∑–æ–º–∫–Ω—É—Ç—å —Ç–æ–ª—å–∫–æ —Ç—Ä–µ—Ç—å—é —á–∞—Å—Ç—å —Ü–∏–∫–ª–∞, –¥–≤–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –Ω–µ —Ä–∞–∑–º—ã–∫–∞—é—Ç—Å—è, –æ—Ç —ç—Ç–æ–≥–æ —Å—Ç—Ä–∞—à–Ω–∞ —É–ª–∏—Ü–∞, —á—Ç–æ –Ω–∞ –Ω–µ–π –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –¥–æ–π—Ç–∏ –¥–æ –†–∏—Ç–º–∞, –Ω–æ –º–æ–∂–Ω–æ –ø—Ä–∏–±–ª–∏–∑–∏—Ç—å—Å—è, –º–æ–∂–Ω–æ —Ä–∞–∑–æ–º–∫–Ω—É—Ç—å —Ü–∏–∫–ª.</p>
                    <br>
                    <p>–¢–µ–±–µ –ø–æ–≤–µ–∑—ë—Ç, –∏ —Ç—ã –æ–∫–∞–∂–µ—à—å—Å—è –Ω–∞ –±–æ–ª–µ–µ —â–µ–¥—Ä–æ–π —É–ª–∏—Ü–µ, –≥–¥–µ –Ω–µ—Ç —Ç–∞–∫–∏—Ö –∂—ë—Å—Ç–∫–∏—Ö –∏ –∂–µ—Å—Ç–æ–∫–∏—Ö –∑–∞–∫–æ–Ω–æ–≤.</p>
                    <br>
                    <p>–ó–¥–µ—Å—å –∫–∞–∂–¥—ã–π –ø—ã—Ç–∞–µ—Ç—Å—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å, –∏ –∑–¥–µ—Å—å –Ω–µ–ª—å–∑—è –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –¥–≤–∏–∂–µ–Ω–∏–µ.</p>
                    <br>
                    <p><strong>–ù–∞ –∫—Ä–∞—Å–Ω–æ–π —É–ª–∏—Ü–µ –Ω–µ–ª—å–∑—è –Ω–∏ –ª–µ–∂–∞—Ç—å, –æ—Ç–¥—ã—Ö–∞—è, –Ω–∏ —Å–∏–¥–µ—Ç—å, –æ—Ç–¥—ã—Ö–∞—è.</strong></p>
                </div>
            `;
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
